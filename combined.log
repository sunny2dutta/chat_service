{"level":"info","message":"Chat service running on port 3001","service":"chat-service","timestamp":"2025-12-12T06:25:12.915Z"}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T06:25:22.199Z"}
{"action":"CONSULT_DOCTOR","level":"info","message":"Decision made","reasoning":"Red flags present: chest pain radiating to left arm with dizziness and worsening over 30 minutes. These are classic signs of myocardial infarction (heart attack) requiring immediate emergency evaluation.","service":"chat-service","timestamp":"2025-12-12T06:25:24.645Z","uncertainty":95}
{"graphResponse":"Based on your symptoms, I strongly recommend consulting a Emergency Medicine Specialist. \n\nHere is a link to help you find one: https://lmgtfy.app/?q=Emergency%20Medicine%20Specialist","level":"info","message":"Graph returned a final response (Action taken):","service":"chat-service","timestamp":"2025-12-12T06:25:24.664Z"}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T06:25:24.675Z"}
{"action":"GET_LAB_TEST","level":"info","message":"Decision made","reasoning":"The user's symptoms (fatigue, pallor) and vegetarian diet suggest possible anemia, but confirmation requires specific testing. A lab test like CBC or iron studies would clarify the diagnosis.","service":"chat-service","timestamp":"2025-12-12T06:25:27.563Z","uncertainty":30}
{"graphResponse":"Based on your symptoms, getting a Complete Blood Count (CBC) and Iron Studies would be very helpful. \n\nHere is a link to find this test: https://lmgtfy.app/?q=Complete%20Blood%20Count%20(CBC)%20and%20Iron%20Studies","level":"info","message":"Graph returned a final response (Action taken):","service":"chat-service","timestamp":"2025-12-12T06:25:27.572Z"}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T06:25:27.577Z"}
{"action":"ASK_MORE_QUESTIONS","level":"info","message":"Decision made","reasoning":"General malaise is a non-specific symptom with high uncertainty. More details are needed to narrow the differential diagnosis.","service":"chat-service","timestamp":"2025-12-12T06:25:29.822Z","uncertainty":70}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T06:25:31.436Z"}
{"action":"GET_LAB_TEST","level":"info","message":"Decision made","reasoning":"The combination of weight gain despite reduced intake, cold intolerance, dry skin, and fatigue strongly suggests hypothyroidism. A TSH test is needed to confirm thyroid dysfunction.","service":"chat-service","timestamp":"2025-12-12T06:25:33.747Z","uncertainty":30}
{"graphResponse":"Based on your symptoms, getting a TSH (Thyroid-Stimulating Hormone) test would be very helpful. \n\nHere is a link to find this test: https://lmgtfy.app/?q=TSH%20(Thyroid-Stimulating%20Hormone)%20test","level":"info","message":"Graph returned a final response (Action taken):","service":"chat-service","timestamp":"2025-12-12T06:25:33.758Z"}
{"level":"info","message":"Chat service running on port 3001","service":"chat-service","timestamp":"2025-12-12T06:29:46.080Z"}
{"level":"info","message":"Chat service running on port 3001","service":"chat-service","timestamp":"2025-12-12T06:43:57.193Z"}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T06:43:57.823Z"}
{"action":"CONSULT_DOCTOR","level":"info","message":"Decision made","reasoning":"Red flags present (severe chest pain radiating to arm, dizziness, worsening symptoms) strongly suggest cardiac emergency (e.g., myocardial infarction). Immediate medical attention required.","service":"chat-service","timestamp":"2025-12-12T06:44:00.281Z","uncertainty":90}
{"graphResponse":"Based on your symptoms, I strongly recommend consulting a **Cardiologist**.\n\n[üîç Find Cardiologist near me](https://www.google.com/search?q=Cardiologist%20near%20me)","level":"info","message":"Graph returned a final response (Action taken):","service":"chat-service","timestamp":"2025-12-12T06:44:00.330Z"}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T06:44:00.343Z"}
{"action":"GET_LAB_TEST","level":"info","message":"Decision made","reasoning":"The user's fatigue, pallor, and vegetarian diet strongly suggest iron deficiency anemia, which can be confirmed with a complete blood count (CBC) or iron studies. A specific lab test is warranted to confirm the hypothesis.","service":"chat-service","timestamp":"2025-12-12T06:44:04.023Z","uncertainty":30}
{"graphResponse":"Based on your symptoms, getting a **CBC with iron studies** would be very helpful.\n\n[üîç Find CBC with iron studies near me](https://www.google.com/search?q=CBC%20with%20iron%20studies%20near%20me)","level":"info","message":"Graph returned a final response (Action taken):","service":"chat-service","timestamp":"2025-12-12T06:44:04.032Z"}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T06:44:04.054Z"}
{"action":"ASK_MORE_QUESTIONS","level":"info","message":"Decision made","reasoning":"General malaise is a non-specific symptom with high uncertainty. More details are needed to identify potential causes.","service":"chat-service","timestamp":"2025-12-12T06:44:06.281Z","uncertainty":70}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T06:44:07.417Z"}
{"action":"GET_LAB_TEST","level":"info","message":"Decision made","reasoning":"The combination of weight gain despite reduced intake, cold intolerance, dry skin, and fatigue strongly suggests hypothyroidism. A TSH test is the gold standard to confirm this hypothesis.","service":"chat-service","timestamp":"2025-12-12T06:44:09.337Z","uncertainty":30}
{"graphResponse":"Based on your symptoms, getting a **TSH (Thyroid-Stimulating Hormone) Test** would be very helpful.\n\n[üîç Find TSH (Thyroid-Stimulating Hormone) Test near me](https://www.google.com/search?q=TSH%20(Thyroid-Stimulating%20Hormone)%20Test%20near%20me)","level":"info","message":"Graph returned a final response (Action taken):","service":"chat-service","timestamp":"2025-12-12T06:44:09.342Z"}
{"level":"info","message":"Chat service running on port 3001","service":"chat-service","timestamp":"2025-12-12T06:48:32.599Z"}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T06:48:33.928Z"}
{"action":"CONSULT_DOCTOR","level":"info","message":"Decision made","reasoning":"Red flags present: chest pain radiating to left arm with dizziness and worsening over 30 minutes. These are classic signs of myocardial infarction (heart attack) requiring immediate emergency evaluation.","service":"chat-service","timestamp":"2025-12-12T06:48:36.369Z","uncertainty":95}
{"graphResponse":"Based on your symptoms, I strongly recommend consulting a **Cardiologist or Emergency Medicine Specialist**.<br><br><a href=\"https://www.google.com/search?q=Cardiologist%20or%20Emergency%20Medicine%20Specialist%20near%20me\" target=\"_blank\" style=\"background-color: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; font-weight: bold;\">Visit a Doctor</a>","level":"info","message":"Graph returned a final response (Action taken):","service":"chat-service","timestamp":"2025-12-12T06:48:36.387Z"}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T06:48:36.395Z"}
{"action":"GET_LAB_TEST","level":"info","message":"Decision made","reasoning":"The user's symptoms (fatigue, pallor) and vegetarian diet create a strong suspicion of anemia (e.g., iron-deficiency or B12 deficiency). A lab test like CBC or iron studies would confirm the diagnosis.","service":"chat-service","timestamp":"2025-12-12T06:48:40.426Z","uncertainty":30}
{"graphResponse":"Based on your symptoms, getting a **CBC with iron panel** would be very helpful.<br><br><a href=\"https://www.google.com/search?q=CBC%20with%20iron%20panel%20near%20me\" target=\"_blank\" style=\"background-color: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; font-weight: bold;\">Get a Lab Test</a>","level":"info","message":"Graph returned a final response (Action taken):","service":"chat-service","timestamp":"2025-12-12T06:48:40.435Z"}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T06:48:40.439Z"}
{"action":"ASK_MORE_QUESTIONS","level":"info","message":"Decision made","reasoning":"General malaise is a non-specific symptom with high uncertainty. Additional details about associated symptoms, duration, or triggers are needed to narrow the differential diagnosis.","service":"chat-service","timestamp":"2025-12-12T06:48:42.725Z","uncertainty":70}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T06:48:44.043Z"}
{"action":"GET_LAB_TEST","level":"info","message":"Decision made","reasoning":"The combination of weight gain despite reduced intake, cold intolerance, dry skin, and fatigue strongly suggests hypothyroidism. A TSH test is the gold standard to confirm this hypothesis.","service":"chat-service","timestamp":"2025-12-12T06:48:46.311Z","uncertainty":30}
{"graphResponse":"Based on your symptoms, getting a **TSH (Thyroid-Stimulating Hormone) Test** would be very helpful.<br><br><a href=\"https://www.google.com/search?q=TSH%20(Thyroid-Stimulating%20Hormone)%20Test%20near%20me\" target=\"_blank\" style=\"background-color: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; font-weight: bold;\">Get a Lab Test</a>","level":"info","message":"Graph returned a final response (Action taken):","service":"chat-service","timestamp":"2025-12-12T06:48:46.317Z"}
{"level":"info","message":"Chat service running on port 3001","service":"chat-service","timestamp":"2025-12-12T08:57:54.489Z"}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T08:58:08.876Z"}
{"action":"CONSULT_DOCTOR","level":"info","message":"Decision made","reasoning":"Red flags present: severe chest pain radiating to left arm, dizziness, and worsening symptoms. These are classic signs of a cardiac event (e.g., heart attack) requiring immediate evaluation.","service":"chat-service","timestamp":"2025-12-12T08:58:11.981Z","uncertainty":90}
{"graphResponse":{"action":{"type":"CONSULT_DOCTOR","url":"https://www.google.com/search?q=Cardiologist%20near%20me","value":"Cardiologist"},"message":"Based on your symptoms, I strongly recommend consulting a **Cardiologist**. Red flags present: severe chest pain radiating to left arm, dizziness, and worsening symptoms. These are classic signs of a cardiac event (e.g., heart attack) requiring immediate evaluation."},"level":"info","message":"Graph returned a final response (Action taken):","service":"chat-service","timestamp":"2025-12-12T08:58:12.037Z"}
{"level":"info","message":"Running decision logic via LangGraph...","service":"chat-service","timestamp":"2025-12-12T08:58:12.071Z"}
{"action":"GET_LAB_TEST","level":"info","message":"Decision made","reasoning":"The user presents symptoms (fatigue, pallor) consistent with anemia, particularly given their vegetarian diet which may predispose to iron or B12 deficiency. A lab test is needed to confirm the diagnosis and identify the specific type of anemia.","service":"chat-service","timestamp":"2025-12-12T08:58:14.743Z","uncertainty":35}
{"graphResponse":{"action":{"type":"GET_LAB_TEST","url":"https://www.google.com/search?q=Complete%20Blood%20Count%20(CBC)%20with%20Iron%20Studies%20near%20me","value":"Complete Blood Count (CBC) with Iron Studies"},"message":"Based on your symptoms, getting a **Complete Blood Count (CBC) with Iron Studies** would be very helpful. The user presents symptoms (fatigue, pallor) consistent with anemia, particularly given their vegetarian diet which may predispose to iron or B12 deficiency. A lab test is needed to confirm the diagnosis and identify the specific type of anemia."},"level":"info","message":"Graph returned a final response (Action taken):","service":"chat-service","timestamp":"2025-12-12T08:58:14.754Z"}
{"level":"info","message":"Calculated uncertainty score: 100","service":"chat-service","timestamp":"2025-12-13T04:49:31.209Z"}
{"level":"info","message":"Calculated uncertainty score: 100","service":"chat-service","timestamp":"2025-12-13T04:49:34.103Z"}
{"level":"info","message":"Calculated uncertainty score: 100","service":"chat-service","timestamp":"2025-12-13T04:49:39.306Z"}
{"level":"info","message":"Calculated uncertainty score: 100","service":"chat-service","timestamp":"2025-12-13T04:49:41.445Z"}
{"level":"info","message":"Uncertainty raw content: <think>\nOkay, the user says, \"I","service":"chat-service","timestamp":"2025-12-13T04:50:05.995Z"}
{"level":"info","message":"Calculated uncertainty score: 100","service":"chat-service","timestamp":"2025-12-13T04:50:05.996Z"}
{"level":"info","message":"Uncertainty raw content: <think>\nOkay, let's see. The user","service":"chat-service","timestamp":"2025-12-13T04:50:08.371Z"}
{"level":"info","message":"Calculated uncertainty score: 100","service":"chat-service","timestamp":"2025-12-13T04:50:08.371Z"}
{"level":"info","message":"Uncertainty raw content: <think>\nOkay, let's see. The user","service":"chat-service","timestamp":"2025-12-13T04:50:13.816Z"}
{"level":"info","message":"Calculated uncertainty score: 100","service":"chat-service","timestamp":"2025-12-13T04:50:13.816Z"}
{"level":"info","message":"Uncertainty raw content: <think>\nOkay, let's see. The user","service":"chat-service","timestamp":"2025-12-13T04:50:15.561Z"}
{"level":"info","message":"Calculated uncertainty score: 100","service":"chat-service","timestamp":"2025-12-13T04:50:15.562Z"}
{"level":"error","message":"Uncertainty service API error: 429","service":"chat-service","timestamp":"2025-12-13T04:50:37.671Z"}
{"level":"info","message":"Calculated uncertainty score: 100","service":"chat-service","timestamp":"2025-12-13T04:50:37.675Z"}
{"level":"info","message":"Uncertainty parsed content: 50","service":"chat-service","timestamp":"2025-12-13T04:50:42.273Z"}
{"level":"info","message":"Calculated uncertainty score: 50","service":"chat-service","timestamp":"2025-12-13T04:50:42.274Z"}
{"level":"error","message":"Uncertainty service API error: 429","service":"chat-service","timestamp":"2025-12-13T04:50:47.474Z"}
{"level":"info","message":"Calculated uncertainty score: 100","service":"chat-service","timestamp":"2025-12-13T04:50:47.475Z"}
{"level":"error","message":"Uncertainty service API error: 429","service":"chat-service","timestamp":"2025-12-13T04:50:49.312Z"}
{"level":"info","message":"Calculated uncertainty score: 100","service":"chat-service","timestamp":"2025-12-13T04:50:49.314Z"}
{"level":"error","message":"Uncertainty service API error: 429","service":"chat-service","timestamp":"2025-12-13T04:51:05.302Z"}
{"level":"info","message":"Calculated uncertainty score: 100","service":"chat-service","timestamp":"2025-12-13T04:51:05.305Z"}
{"level":"info","message":"Uncertainty parsed content: 70","service":"chat-service","timestamp":"2025-12-13T04:51:26.615Z"}
{"level":"info","message":"Calculated uncertainty score: 70","service":"chat-service","timestamp":"2025-12-13T04:51:26.617Z"}
{"level":"info","message":"Uncertainty parsed content: 80","service":"chat-service","timestamp":"2025-12-13T04:51:57.221Z"}
{"level":"info","message":"Calculated uncertainty score: 80","service":"chat-service","timestamp":"2025-12-13T04:51:57.223Z"}
{"level":"info","message":"Uncertainty parsed content: 10","service":"chat-service","timestamp":"2025-12-13T04:53:01.904Z"}
{"level":"info","message":"Calculated uncertainty score: 10","service":"chat-service","timestamp":"2025-12-13T04:53:01.907Z"}
{"level":"error","message":"Uncertainty service error: API Error","service":"chat-service","stack":"Error: API Error\n    at /Users/debaryadutta/chat-service/src/services/__tests__/UncertaintyService.test.ts:57:58\n    at Generator.next (<anonymous>)\n    at /Users/debaryadutta/chat-service/src/services/__tests__/UncertaintyService.test.ts:8:71\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/debaryadutta/chat-service/src/services/__tests__/UncertaintyService.test.ts:4:12)\n    at Object.<anonymous> (/Users/debaryadutta/chat-service/src/services/__tests__/UncertaintyService.test.ts:56:53)\n    at Promise.finally.completed (/Users/debaryadutta/chat-service/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/debaryadutta/chat-service/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/debaryadutta/chat-service/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/debaryadutta/chat-service/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/debaryadutta/chat-service/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/debaryadutta/chat-service/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/debaryadutta/chat-service/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/debaryadutta/chat-service/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/debaryadutta/chat-service/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/debaryadutta/chat-service/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/debaryadutta/chat-service/node_modules/jest-runner/build/index.js:275:16)\n    at runTest (/Users/debaryadutta/chat-service/node_modules/jest-runner/build/index.js:343:7)","timestamp":"2025-12-13T04:57:18.336Z"}
{"level":"info","message":"Calculated uncertainty score: 80","service":"chat-service","timestamp":"2025-12-13T04:58:42.635Z"}
{"level":"info","message":"Calculated uncertainty score: 10","service":"chat-service","timestamp":"2025-12-13T05:17:43.821Z"}
{"action":"PROVIDE_ADVICE","level":"info","message":"Decision made","reasoning":"User is en route to ER and requests preparation help.","service":"chat-service","timestamp":"2025-12-13T05:35:35.098Z","uncertainty":10}
{"level":"info","message":"Calculated uncertainty score: 60","service":"chat-service","timestamp":"2025-12-13T06:56:02.717Z"}
{"level":"info","message":"Calculated uncertainty score: 70","service":"chat-service","timestamp":"2025-12-13T07:07:12.389Z"}
{"level":"info","message":"Calculated uncertainty score: 70","service":"chat-service","timestamp":"2025-12-13T07:07:44.086Z"}
{"level":"info","message":"Calculated uncertainty score: 50","service":"chat-service","timestamp":"2025-12-13T07:08:08.693Z"}
{"level":"info","message":"Calculated uncertainty score: 50","service":"chat-service","timestamp":"2025-12-13T07:08:33.028Z"}
{"level":"info","message":"Calculated uncertainty score: 50","service":"chat-service","timestamp":"2025-12-13T07:08:54.352Z"}
{"level":"info","message":"Calculated uncertainty score: 50","service":"chat-service","timestamp":"2025-12-13T07:09:26.753Z"}
